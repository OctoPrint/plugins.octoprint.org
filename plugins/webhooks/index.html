<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<html lang="en" xmlns="http://www.w3.org/1999/html"> <!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <title>OctoPrint-Webhooks</title>
    <meta name="description" content="This allows you to send a webhook to any URL when events happen on OctoPrint.">
    <meta name="author" content="Blane Townsend">
    <meta name="referrer" content="same-origin">
    <meta name="google-site-verification" content="0EFsbaNygJcEinKPmzP-hTf0Ju6wDIpJxO5zvQtOQT0" />

    <!--[if lt IE 9]>
    <script type="text/javascript" src="/assets/js/html5shim-d55410eeb0d1e50b9558b594560e362529c60f3d70f808efe63dc16137b0226a.js" integrity="sha256-1VQQ7rDR5QuVWLWUVg42JSnGDz1w+Ajv5j3BYTewImo=" crossorigin="anonymous"></script>
    <![endif]-->

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le styles -->
    <link rel="stylesheet" type="text/css" href="/assets/css/site-157ef2ccfeb1452e3a516f5d70c1dea8e6d7fe25e5bfdca28524227a09aece03.css" integrity="sha256-FX7yzP6xRS46UW9dcMHeqObX/iXlv9yihSQiegmuzgM=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-responsive-c77a05ed6f7d09ff73e449cbc70b8bed232766c37371185af0d332e1d4a9cb3c.css" integrity="sha256-x3oF7W99Cf9z5EnLxwuL7SMnZsNzcRha8NMy4dSpyzw=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/assets/css/fontawesome-all.min-50c3c339da3ba3c3bf3060501d2862b4d0794e0fa4abaa5844b74a9d16f59697.css" integrity="sha256-UMPDOdo7o8O/MGBQHShitNB5Tg+kq6pYRLdKnRb1lpc=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/assets/css/prettify-30df8270395128e468d5c072b23ec9f8ef7265820f7e745251f9b703bc1962a9.css" integrity="sha256-MN+CcDlRKORo1cBysj7J+O9yZYIPfnRSUfm3A7wZYqk=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/assets/css/lightbox-4cb5722046a1da0569855a52d2fd670043c99af8b5cc8eac099bcb016a85ce48.css" integrity="sha256-TLVyIEah2gVphVpS0v1nAEPJmvi1zI6sCZvLAWqFzkg=" crossorigin="anonymous">

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/assets/img/tentacle-32x32.png">

    <!-- Le RSS feed -->
    <link rel="alternate" type="application/rss+xml" title="OctoPrint Plugin Repository: New Plugins" href="/feed.xml">

    <!-- Le social media meta data -->
    
    
    

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@OctoPrint3D" />
    <meta name="twitter:title" content="OctoPrint-Webhooks" />
    <meta name="twitter:description" content="OctoPrint-Webhooks

" />
    <meta name="twitter:image" content="https://plugins.octoprint.org" />

    <meta property="og:title" content="OctoPrint-Webhooks" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://plugins.octoprint.org/assets/img/plugins/webhooks/Featured.png" />
    <meta property="og:description" content="OctoPrint-Webhooks

" />
    <meta property="og:site_name" content="OctoPrint Plugin Repository" />
    <meta property="og:url" content="https://plugins.octoprint.org/plugins/webhooks/" />

    <meta itemscope itemtype="http://schema.org/WebPage" />
    <meta itemprop="headline" content="OctoPrint-Webhooks" />
    <meta itemprop="description" content="OctoPrint-Webhooks

" />
    <meta itemprop="image" content="https://plugins.octoprint.org/assets/img/plugins/webhooks/Featured.png" />

    <script type="text/javascript" src="/assets/js/jquery-1.9.1.min-4b58dfeb119b2dd15f54e0a074cf8eb63204c8b03d45056e0b514e042f36aa44.js" integrity="sha256-S1jf6xGbLdFfVOCgdM+OtjIEyLA9RQVuC1FOBC82qkQ=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/assets/js/underscore.min-42d8fad13bc28fc726775196ec9ab953febf9bde175c5845128361c953fa17f4.js" integrity="sha256-Qtj60TvCj8cmd1GW7Jq5U/6/m94XXFhFEoNhyVP6F/Q=" crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="/assets/css/cookieconsent.min-b4bf981e76e71509875afcf5f4ad89e6d9b3bcba41fa20fc6a26226d5e162bd1.css" integrity="sha256-tL+YHnbnFQmHWvz19K2J5tmzvLpB+iD8aiYibV4WK9E=" crossorigin="anonymous">
    <script type="text/javascript" src="/assets/js/cookieconsent.min-e8aac0b7a7c3e3c17c621bf5bb24c098a602e4ad0c2867598f40d5ee49eca425.js" integrity="sha256-6KrAt6fD48F8Yhv1uyTAmKYC5K0MKGdZj0DV7knspCU=" crossorigin="anonymous"></script>
    <script>
        if (!String.prototype.startsWith) {
            String.prototype.startsWith = function(search, pos) {
            return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;
            };
        }

        window.addEventListener("load", function(){
            window.cookieconsent.initialise({
                "position": "bottom",
                "theme": "edgeless",
                "palette": {
                    "popup": {
                        "background": "#000000",
                        "link": "#10a800"
                    },
                    "button": {
                        "background": "#0b7500"
                    }
                }
            })
        });

        /**
         * Make sure octoprint.github.io stuff gets rewritten to plugins.octoprint.org.
         * See https://github.com/OctoPrint/plugins.octoprint.org/issues/146.
         */
        var githubio = "octoprint.github.io/plugins.octoprint.org";
        var url = window.location.href;
        if (url && (url.startsWith("http://" + githubio) || url.startsWith("https://" + githubio))) {
            url = url.replace(githubio, "plugins.octoprint.org");
            window.location.replace(url);
        }
    </script>
    <script type="text/javascript" src="/assets/js/github-6fd845e96926baa29e9f6356e813328514604d09846660936f4caf54ab9a5804.js" integrity="sha256-b9hF6WkmuqKen2NW6BMyhRRgTQmEZmCTb0yvVKuaWAQ=" crossorigin="anonymous"></script>
</head>

<body>

<div class="navbar navbar-inverse navbar-static-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="brand" href="/"><img src="/assets/img/tentacle-20x20.png" alt="Tentacle logo" class="tentacle"> Plugin Repo</a>
      <a href="javascript:void(0)" class="btn btn-burger btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><i class="fas fa-bars"></i></a>
      <div class="pull-right">
        <ul class="nav social-navbar">
          <li><a href="https://octoprint.org/merch/" title="Get some merchandise!" target="_blank"><i class="fa fa-shopping-basket"></i></a></li>
          <li><a href="https://octoprint.org/support-octoprint/" title="Support OctoPrint!" data-event-category="supportlink" data-event-action="navigation" target="_blank"><i class="fas fa-donate"></i></a></li>
        </ul>
      </div>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li><a href="/by_name/">by Name</a></li>
          <li><a href="/by_date/">by Date</a></li>
          <li><a href="/by_tag/">by Tag</a></li>
          <li><a href="/by_author/">by Author</a></li>
          <li><form class="navbar-search pull-right" action="/search/" method="get"><input type="text" class="input-medium search-query" placeholder="Enter search &amp; hit enter..." name="q"></form></li>
          <li class="dropdown">
            <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Help <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/help/installation/">Installing Plugins</a></li>
              <li><a href="/help/registering/">Registering Plugins</a></li>
              <li><a href="http://docs.octoprint.org/en/master/plugins/gettingstarted.html">The Plugin Tutorial</a></li>
              <li class="divider"></li>
              <li><a href="/help/github_integration/">GitHub Integration on plugins.octoprint.org</a></li>
            </ul>
          </li>
          <li class="dropdown">
            <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">Lists <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/blacklist/">Blacklist</a></li>
              <li><a href="/notices/">Notices</a></li>
              <li><a href="/overlays/">Overlays</a></li>
              <li><a href="/abandoned/">Abandoned plugins</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div id="wrap">
    <div id="main">
    






<div class="page-header">
  <div class="container">
    <div class="row">
      <div class="span12">
        <h1>OctoPrint-Webhooks</h1>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row-fluid">
    
    <small class="pull-left"><a href="/plugins/webcamSB/"><i class="fa fa-double-angle-left"></i>&nbsp;OctoPrint-Webcamsb</a></small>
    
    &nbsp;
    
    <small class="pull-right"><a href="/plugins/wemoswitch/">OctoPrint-WemoSwitch&nbsp;<i class="fa fa-double-angle-right"></i></a></small>
    
  </div>
  <div class="content plugin-content row-fluid">
    <article class="post-content span8">
      
      
      
      

      <p class="lead">
        This allows you to send a webhook to any URL when events happen on OctoPrint.
      </p>
      <h1 id="octoprint-webhooks">OctoPrint-Webhooks</h1>

<p>This allows you to send a webhook (a.k.a. API Request) to any URL when certain events happen on OctoPrint such as when
a print starts, finishes, fails, …</p>

<p>This plugin supports snapshot photos, OAuth, custom HTTP Methods (GET, POST, PUT, DELETE), custom headers, custom data and data format, custom encoding (json vs. x-www-form-urlencoded), and much more. It is very advanced and can send almost any kind of request to your server when an OctoPrint action occurs.</p>

<h2 id="blog-post">Blog Post</h2>

<p>I wrote a blog post to explain more about what this plugin is and why I built it. <a href="https://www.darwincloud.com/blog/add-webhooks-to-your-3d-printer-with-octoprint/">Blog Post</a></p>

<h2 id="setup">Setup</h2>

<p>Install via the bundled <a href="https://docs.octoprint.org/en/master/bundledplugins/pluginmanager.html">Plugin Manager</a>
or manually using this URL:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://github.com/2blane/OctoPrint-Webhooks/archive/master.zip
</code></pre></div></div>

<p>Once you’ve installed the plugin, go to the settings page for this plugin. The page is called “Webhooks”.
Select which events will trigger a webhook, then change the following:</p>

<h4 id="url">URL</h4>
<p>The url that will be called when an event occurs such as https://www.myapi.com/v1/method</p>
<h4 id="http-method">HTTP METHOD</h4>
<p>The type of HTTP request to make… Usually this is POST.</p>
<h4 id="content-type">CONTENT TYPE</h4>
<p>This determines how the data is encoded before it is sent to your server. Usually, JSON
will work, but on some older systems x-www-form-urlencoded might be needed.</p>

<p>NOTE: The proper HTTP header will be set for ‘Content-Type’ if you don’t supply one that allows the data to be sent properly. For instance, if you set the Content Type setting to JSON, then ‘application/json’ must appear somewhere your ‘Content-Type’ header. If ‘application/json’ does not appear in your ‘Content-Type’ header or is set to some other value, it will get replaced. So, you could set it to ‘application/json charset=utf8;’ if you wanted to, but not ‘application/yoyo’ as that would get replaced to ‘application/json’.</p>
<h4 id="api-secret">API SECRET</h4>
<p>This field is optional. If you want to provide a secret key/password that you can check on the server this is the easiest way to do that. For instance, if you set the API Secret to ‘abcdef123456’, then on your server you can check to make sure the API Secret is ‘abcdef123456’. If it is not, then the request came from something other than your OctoPrint Server and you should ignore the request (Somebody is trying to hack you!). Also, for security reasons you should set this to some long random string instead of something like ‘password’.</p>
<h4 id="device-identifier">DEVICE IDENTIFIER</h4>
<p>A name or id that you can provide to your printer to distinguish printers from each other. You can use this service with multiple printers using the same settings. Just set this device identifier to something different and you’ll be able to detect which printer sent the event.</p>

<h2 id="webhook-request">Webhook Request</h2>
<p>By default, the webhook will be called with the following data:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "deviceIdentifier": "the DEVICE IDENTIFIER in settings",
  "apiSecret": "the API SECRET in settings",
  "topic": "the name of the event - see below for events",
  "message": "a description of the event - can be used for display purposes",
  "extra": {...} //a json object of data related to the event - different for each event
}
</code></pre></div></div>

<p>To change the format of the request, there are some advanced configuration parameters you can modify.</p>

<h2 id="advanced-configuration">Advanced Configuration</h2>

<h4 id="headers">Headers</h4>
<p>Provide a JSON dictionary of HTTP headers that will be passed along with the request such as:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "Content-Type": "application/json"
}
</code></pre></div></div>

<h4 id="data">Data</h4>
<p>Provide a JSON dictionary of parameters that will be passed along with the request such as:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "deviceIdentifier":"@deviceIdentifier",
  "apiSecret":"@apiSecret",
  "topic":"@topic",
  "message":"@message",
  "extra":"@extra",
  "custom1":"my custom data",
  "custom2":"my second piece of custom data",
  "print_name":"@job.file.name",
  "estimated_print_time":"@job.estimatedPrintTime"
}
</code></pre></div></div>

<p>You can use @param syntax to insert variables into the JSON for both the
Headers and Data. For instance, if above you set ‘DEVICE IDENTIFIER’ to “Blane’s Printer”,
then @deviceIdentifer will get replaced with “Blane’s Printer” when the webhook request
is made.</p>

<p>You can also use dot notation to grab only parts of a dictionary. For instance,
if there was a param named @job that contained the following:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "file": {
    "name": "myFile.gcode", //the name of your file
    "path": "/myFile.gcode",
    ...
  }
}
</code></pre></div></div>
<p>Then, you could use the notation @job.file.name to just retrieve the file’s name
instead of the entire dictionary.</p>

<p>You can also use multiple @param variables in the same string. For instance:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "custom1": "@param1 some text here @param2 - @param3"
}
</code></pre></div></div>
<p>Just make sure to put a space after each @param.</p>

<p>See below for the list of available variables that you can use with the @param syntax.</p>

<h4 id="available-variables">Available Variables</h4>
<p>@deviceIdentifier - the user set DEVICE IDENTIFIER found in settings</p>

<p>@apiSecret - the user set API SECRET found in settings</p>

<p>@topic - the type of event that was triggered. See below for a list of topics/events.</p>

<p>@message - a short description of the type of event that was triggered.</p>

<p>@extra - a dictionary of extra data that was passed along by OctoPrint. This dictionary depends on the event, but is usually something like the following:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "origin": "local",
  "name": "myFile.gcode",
  "user": "myUserName",
  "owner": "owner of the file",
  "path": "/someFolder/myFile.gcode",
  "size": 10890569
}
</code></pre></div></div>
<p>See this <a href="https://docs.octoprint.org/en/master/events/index.html#printing">link</a>
for the data that is passed with each event.</p>

<p>@state - a dictionary of data showing the current state of the printer</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "text": "Operational",
  "flags": {
    "operational": true,
    "printing": false,
    "cancelling": false,
    "pausing": false,
    "resuming": false,
    "finishing": false,
    "closedOrError": false,
    "error": false,
    "paused": false,
    "ready": true,
    "sdReady": true
  }
}
</code></pre></div></div>
<p>See this <a href="https://docs.octoprint.org/en/master/api/datamodel.html#printer-state">link</a>
for more information.</p>

<p>@job - a dictionary of data about the current print job</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "file": {
    "name": "DarwinKeycap.gcode",
    "path": "DarwinKeycap.gcode",
    "display": "DarwinKeycap.gcode",
    "origin": "local",
    "size": 242038,
    "date": 1588195405
  },
  "estimatedPrintTime": 476.05552375713864,
  "averagePrintTime": 48.8202253183409,
  "lastPrintTime": 31.290278981000007,
  "filament": {
    "tool0": {
      "volume": 0.8077585001602579,
      "length": 335.8269600000015
    }
  },
  "user": "iAmLegend"
}
</code></pre></div></div>
<p>See this <a href="https://docs.octoprint.org/en/master/api/datamodel.html#job-information">link</a>
for more information.</p>

<p>@progress - a dictionary of data about the current print job’s progress</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "completion": 14.496484023169915, //percent complete
  "filepos": 35087, //the current byte position in the file being printed
  "printTime": 29, //seconds already spent printing
  "printTimeLeft": 40, //seconds remaining
  "printTimeLeftOrigin": "average" //how the time remaining was calculated.
}
</code></pre></div></div>
<p>See this <a href="https://docs.octoprint.org/en/master/api/datamodel.html#progress-information">link</a>
for more information.</p>

<p>@currentZ - the current z height of the print head in mm.</p>

<p>@offsets - any print offsets if applicable … otherwise an empty dictionary.</p>

<p>@meta - a dictionary of metadata for the file you are printing.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "statistics": {
    "averagePrintTime": {
      "_default": 49.04197595574509
    },
    "lastPrintTime": {
      "_default": 50.53992706
    }
  },
  "hash": "2d2f2c6a410f8786b62604422799c9f3c0721367",
  "analysis": {
    "estimatedPrintTime": 476.05552375713864,
    "printingArea": {
      "maxZ": 5.6,
      "maxX": 136.67,
      "maxY": 116.672,
      "minX": 0.0,
      "minY": -3.0,
      "minZ": 0.0
    },
    "dimensions": {
      "width": 136.67,
      "depth": 119.672,
      "height": 5.6
    },
    "filament": {
      "tool0": {
        "volume": 0.8077585001602579,
        "length": 335.8269600000015
      }
    }
  },
  "history": [
    {
      "timestamp": 1588195498.7716029,
      "printTime": 50.352958230999995,
      "printerProfile": "_default",
      "success": True
    },
    ...
  ]
}
</code></pre></div></div>

<p>@currentTime - The time of the event in number of seconds since the epoch.
The epoch is usually January 1 1970, 00:00:00 (UTC).</p>

<p>@percentCompleteMilestone - The last percent complete milestone.
Usually this is used with the Print Progress event for the message text.</p>

<p>@snapshot - This is a special parameter that can only be used on the first level
of a dictionary. For instance, you can use it like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "snap": "@snapshot"
}
</code></pre></div></div>
<p>but not like this:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "snap": {
    "image": "@snapshot"
  }
}
</code></pre></div></div>
<p>The @snapshot parameter will be replaced with a jpeg image if a snapshot can be retrieved
from your connected webcam.
Make sure under FEATURES -&gt; Webcam &amp; Timelapse -&gt; the ‘Snapshot URL’ is set and working.
This is what is used to grab a snapshot. The snapshot is then resized so that it can be
quickly transported, and then sent along with your webhook under the key name you provided
to the @snapshot parameter. If for some reason an image can’t be taken or there is an image
processing issue, then the @snapshot parameter’s key will be deleted and removed from
the request. So, it is recommended that you make the image parameter optional on your server.</p>

<p>NOTE: If you use the @snapshot parameter, the data will automatically be encoding using
multipart/form-data and will override your settings and headers to match.</p>

<p>NOTE: In some cases the data might not be available. For instance @meta.statistics.lastPrintTime might not exist. If this happens, the @param will be replaced with an empty string.</p>

<h4 id="strategy---getting-all-data">Strategy - Getting all data</h4>
<p>You can copy and paste the following in the DATA box to get all the available data.
Then, you can remove and rearrange things as necessary.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "deviceIdentifier":"@deviceIdentifier",
  "apiSecret":"@apiSecret",
  "topic":"@topic",
  "message":"@message",
  "extra":"@extra",
  "state": "@state",
  "job": "@job",
  "progress": "@progress",
  "currentZ": "@currentZ",
  "offsets": "@offsets",
  "meta": "@meta",
  "currentTime": "@currentTime",
  "snapshot": "@snapshot"
}
</code></pre></div></div>

<h2 id="events--topics">Events / Topics</h2>
<p>The following is the list of topics that can trigger a webhook.</p>

<ul>
  <li>Print Started</li>
</ul>

<p>The print has started.</p>

<ul>
  <li>Print Done</li>
</ul>

<p>The print has finished.</p>

<ul>
  <li>Print Failed</li>
</ul>

<p>The print has failed.</p>

<ul>
  <li>Print Paused</li>
</ul>

<p>The print has been paused.</p>

<ul>
  <li>User Action Needed</li>
</ul>

<p>Called on Prusa Printers when a color change is necessary.</p>

<ul>
  <li>Error</li>
</ul>

<p>An error has occurred. Can refer to many different types of errors.</p>

<ul>
  <li>Print Progress</li>
</ul>

<p>Sends progress reports every ‘x’ percent where ‘x’ is defined by you.
For instance, you can send a progress webhook every 10%, 25%, or 7% if you wanted. For instance, if you set ‘x’ to 5, then you would get a notification at 5%, 10%, 15%, 20%, …, 95%.</p>

<p>NOTE: 0% and 100% are not triggered by this event, use ‘Print Started’ and ‘Print Done’
for those events.</p>

<h2 id="event-data">Event Data</h2>
<p>For details on what ‘extra’ data is provided with each event, check out the following.
<a href="https://docs.octoprint.org/en/master/events/index.html#printing">https://docs.octoprint.org/en/master/events/index.html#printing</a></p>

<h2 id="oauth">OAuth</h2>
<p>OAuth is a common authentication mechanism used by many APIs.
If your server requires you to first make an API call trading credentials
for tokens so that you can use those tokens in your API request,
then OAuth should be enabled. You can then access the properties of the
OAuth response using something like @access_token in the DATA and HEADER settings for
your webhook request.</p>

<p>Once you’ve ticked the box to enable OAuth, you’ll see some fields that you need to
fill out such as the url to call, the HTTP Method, Content-Type, Headers, and Data.
These work similar to the webhook settings, except you <strong>cannot</strong> use the @param sytax.</p>

<p>When an event triggers a webhook, this OAuth request will be called first (if enabled).
The response is expected to be JSON and will be parsed. All the keys in the JSON dictionary
will be available as @params that will be passed into the webhook request.
For instance, if the reponse of the OAuth request was</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "access_token": "abc123",
  "refresh_token": "efg456",
  "expires_in": 3600
}
</code></pre></div></div>
<p>then you could use @access_token, @refresh_token, and @expires_in inside the
‘DATA’ and ‘HEADERS’ Advanced Settings to pass them into your webhook request.</p>

<h2 id="testing">TESTING</h2>
<p>At the bottom of the settings page, you can simulate events to test out your API and make sure everything is working. Just choose the event type and click the ‘Send Test Webhook’ button. You’ll see a popup message (usually in the top left of the screen) showing you the result of the webhook and if there were any errors. You’ll be notified if there are any JSON parsing issues with the settings you provided or any networking issues etc. The API requests that are sent are expected to return HTTP status codes between 200 and 399. Anything outside of that range will be considered an error.</p>

<p>NOTE: If you see a popup telling you that settings need to be reloaded - ignore this. Don’t select an option, instead click outside the box on the screen. You can get into a weird state where you change the settings and they aren’t being updated. If this happens just refresh the page and try again.</p>


      
        <h2>Pictures</h2>
        
        <figure>
          
          <a href="/assets/img/plugins/webhooks/Featured.png" data-lightbox="/plugins/webhooks" data-title=""><img src="/assets/img/plugins/webhooks/Featured.png" alt="/assets/img/plugins/webhooks/Featured.png" title=""></a>
        </figure>
        
        <figure>
          
          <a href="/assets/img/plugins/webhooks/Parameters.png" data-lightbox="/plugins/webhooks" data-title=""><img src="/assets/img/plugins/webhooks/Parameters.png" alt="/assets/img/plugins/webhooks/Parameters.png" title=""></a>
        </figure>
        
        <figure>
          
          <a href="/assets/img/plugins/webhooks/Events.png" data-lightbox="/plugins/webhooks" data-title=""><img src="/assets/img/plugins/webhooks/Events.png" alt="/assets/img/plugins/webhooks/Events.png" title=""></a>
        </figure>
        
        <figure>
          
          <a href="/assets/img/plugins/webhooks/Advanced.png" data-lightbox="/plugins/webhooks" data-title=""><img src="/assets/img/plugins/webhooks/Advanced.png" alt="/assets/img/plugins/webhooks/Advanced.png" title=""></a>
        </figure>
        
      
    </article>

    <div class="span4">
      <dl class="adbox">
        <dd class="ad">
          <script>
    if (!window["carbon-disable"]) {
        (function() {
            var po = document.createElement("script");
            po.type = "text/javascript";
            po.async = true;
            po.src  = "//cdn.carbonads.com/carbon.js?serve=CK7DT237&placement=pluginsoctoprintorg";
            po.id = "_carbonads_js";
            var s = document.currentScript;
            s.parentNode.insertBefore(po, s);
        })();
    }
</script>
        </dd>
      </dl>
      
      <dl class="installation">
        <dt>Installation <a href="/help/installation/" class="fas fa-question-circle"></a></dt>
        
        <dd>
          URL:
          <pre>https://github.com/2blane/OctoPrint-Webhooks/archive/master.zip</pre>
          
        </dd>
        
        
        <dd>
          Command line:
          <pre>pip install "https://github.com/2blane/OctoPrint-Webhooks/archive/master.zip"</pre>
        </dd>
        
      </dl>
      
      
      <dl class="date">
        <dt>Registration date</dt>
        <dd>29 Apr 2020</dd>
      </dl>
      
      
      <dl class="installations">
        <dt>Active instances the past month</dt>
        <dd>Installed on at least <strong>331</strong> instances</dd>
      </dl>
      
      
      <dl class="install_events">
        <dt>New installs the past week</dt>
        <dd>At least <strong>8</strong> new installations</dd>
      </dl>
      
      
      <dl class="github">
        <dt>GitHub stats <a href="/help/github_integration/" class="fas fa-question-circle"></a> <span id="github_login">(<a href="javascript:void(0)">Login</a>)</span></dt>
        <dd>
          <ul>
            
            <li>
              Latest Release: <a href="https://github.com/2blane/OctoPrint-Webhooks/releases/tag/3.0.3" target="_blank">3.0.3</a><br>
              <small>released on 25 May 2020</small>
            </li>
            <li>Releases: 20</li>
            
            <li>Stars: <span id="github_star_count">23</span> <span id="github_star"><a href="javascript:void(0)"><i class="far fa-star"></i></a></span></li>
            <li>Issues: 8 open, 15 closed</li>
            <li>Last push: 27 Feb 2021</li>
          </ul>
        </dd>
      </dl>
      
      
      <dl class="tags">
        <dt>Tags</dt>
        <dd>
          
          
          
          
          <a class="label" href="/by_tag/#tag-api">api</a>
          
          <a class="label" href="/by_tag/#tag-color-change">color change</a>
          
          <a class="label" href="/by_tag/#tag-events">events</a>
          
          <a class="label" href="/by_tag/#tag-notification">notification</a>
          
          <a class="label" href="/by_tag/#tag-prusa">prusa</a>
          
          <a class="label" href="/by_tag/#tag-url">url</a>
          
          <a class="label" href="/by_tag/#tag-webhook">webhook</a>
          
        </dd>
      </dl>
      
      <dl class="compatibility">
        <dt>Compatibility Information</dt>
        <dd>
          <ul>
            
            <li>OctoPrint: all versions</li>
            
            
            <li>Operating Systems: all</li>
            
            
            <li>Python: &gt;=2.7,&lt;4</li>
            
          </ul>
        </dd>
      </dl>
      
      <dl class="author">
        <dt>Author</dt>
        <dd>
<a href="/by_author/#blane-townsend">Blane Townsend</a>
</dd>
      </dl>
      
      
      <dl class="homepage">
        <dt>Homepage</dt>
        <dd><a href="https://github.com/2blane/OctoPrint-Webhooks" target="_blank">https://github.com/2blane/OctoPrint-Webhooks</a></dd>
      </dl>
      
      
      <dl class="source">
        <dt>Source</dt>
        <dd><a href="https://github.com/2blane/OctoPrint-Webhooks" target="_blank">https://github.com/2blane/OctoPrint-Webhooks</a></dd>
      </dl>
      
      
      <dl class="license">
        <dt>License</dt>
        <dd>AGPLv3</dd>
      </dl>
      
      <dl class="issue">
        <dt>Something wrong here?</dt>
        <dd>
          <p>
            If there is <strong>something wrong with this listing</strong> (broken links & images etc), please
            <a href="https://github.com/OctoPrint/plugins.octoprint.org/issues/new?template=listing_error.yml&labels%5B%5D=listing+error&title=%5BListing+Error%5D+OctoPrint-Webhooks&which_plugin=https%3A%2F%2Fplugins.octoprint.org%2Fplugins%2Fwebhooks%2F">report it here</a>.
          </p>
          <p>
            If this plugin <strong>has been <em>confirmed</em> as abandoned</strong> by its maintainer, please
            <a href="https://github.com/OctoPrint/plugins.octoprint.org/issues/new?template=abandoned_plugin.yml&labels%5B%5D=abandoned+plugin&title=%5BAbandoned+Plugin%5D+OctoPrint-Webhooks&which_plugin=https%3A%2F%2Fplugins.octoprint.org%2Fplugins%2Fwebhooks%2F">report it here</a>.
          </p>
          <p>
            If this plugin is <strong>doing something suspicious</strong> (e.g. weird network activity, unannounced tracking, ...) and
            the maintainer is not cooperating in getting to the bottom of that, please
            <a href="https://github.com/OctoPrint/plugins.octoprint.org/issues/new?template=suspicious_plugin_activity.yml&labels%5B%5D=suspicious+plugin+activity&title=%5BSuspicious+Plugin+Activity%5D+OctoPrint-Webhooks&which_plugin=https%3A%2F%2Fplugins.octoprint.org%2Fplugins%2Fwebhooks%2F">report the plugin as suspicious here</a>.
          </p>
          <p>
            Report bugs or feature requests for the plugin to the plugin author (e.g. on the plugin's <a href="https://github.com/2blane/OctoPrint-Webhooks">homepage</a>) please, not here!
          </p>
        </dd>
      </dl>
    </div>

  </div>
</div>

<script type="application/javascript">
  $(function() {
    var has_github = true;
    if (has_github) {
      var github_repo = "2blane/OctoPrint-Webhooks";

      if (github_repo) {
        var status = "unknown";

        var starSpan = $("#github_star");
        $("a", starSpan).click(function() {
          switch (status) {
            case "starred": {
              window.githubUnstar(github_repo)
                .done(function() {
                  markAsUnstarred();
                  updateStarcount();
                })
                .fail(markAsLoggedout);
              break;
            }
            case "unstarred": {
              window.githubStar(github_repo)
                .done(function() {
                  markAsStarred();
                  updateStarcount();
                })
                .fail(markAsLoggedout);
              break;
            }
            case "loggedout": {
              window.githubLogin()
                .done(determineStatus);
              break;
            }
          }
        });
        starSpan.hide();

        var login = $("#github_login");
        $("a", login).click(function() {
          switch (status) {
            case "loggedout": {
              window.githubLogin()
                .done(determineStatus);
              break;
            }
            case "starred":
            case "unstarred": {
              window.githubLogout()
                .done(determineStatus);
              break;
            }
          }
        });

        var starCount = $("#github_star_count");

        var markAsStarred = function() {
          status = "starred";
          $("i.fa-star", starSpan).removeClass("far").addClass("fas");
          $("a", login).text("Logout");
        }
        var markAsUnstarred = function() {
          status = "unstarred";
          $("i.fa-star", starSpan).removeClass("fas").addClass("far");
          $("a", login).text("Logout");
        };
        var markAsLoggedout = function() {
          status = "loggedout";
          $("a", login).text("Login");
        };
        var updateStarcount = function() {
          window.githubRepo(github_repo)
            .done(function(response) {
              starCount.text(response.stargazers_count);
            });
        }
        var determineStatus = function() {
          window.githubStatus(github_repo)
            .done(function(starred) {
              if (starred) {
                markAsStarred();
              } else {
                markAsUnstarred();
              }
              starSpan.show();
              updateStarcount();
            })
            .fail(function() {
              markAsLoggedout();
              starSpan.hide();
            });
        }

        determineStatus();
      }
    }
  });
</script>

    </div>
</div>

      <footer>
          <div class="container">
              <div class="row">
                  <div class="span4">
                      <h2>On the web</h2>
                      <ul class="fa-ul">
                          <li><span class="fa-li"><i class="fas fa-users fa-fw"></i></span><a href="https://community.octoprint.org">Community Forum</a></li>
                          <li><span class="fa-li"><i class="fab fa-discord fa-fw"></i></span><a href="https://discord.octoprint.org" target="_blank">Discord</a></li>
                          <li><span class="fa-li"><i class="fab fa-twitter fa-fw"></i></span><a href="https://twitter.com/OctoPrint3D" target="_blank">Twitter</a></li>
                          <li><span class="fa-li"><i class="fab fa-facebook-f fa-fw"></i></span><a href="https://facebook.com/OctoPrint" target="_blank">Facebook</a></li>
                          <li><span class="fa-li"><i class="fab fa-youtube fa-fw"></i></span><a href="https://www.youtube.com/c/OctoPrint3D" target="_blank">YouTube</a></li>
                          <li><span class="fa-li"><i class="fas fa-tachometer-alt fa-fw"></i></span><a href="https://status.octoprint.org" target="_blank">Site Status</a></li>
                          <li><span class="fa-li"><i class="fas fa-gavel fa-fw"></i></span><a href="https://octoprint.org/imprint/" rel="nofollow">Legal Notice</a></li>
                          <li><span class="fa-li"><i class="fas fa-gavel fa-fw"></i></span><a href="https://octoprint.org/privacy/" rel="nofollow">Privacy Policy</a></li>
                      </ul>
                  </div>
                  <div class="span4">
                      <h2>Recently Added</h2>
                      <ul>
                          
                          
                          <li>
                              <a class="post-link" href="/plugins/translatemodel/">OctoPrint-TranslateModel</a>
                          </li>
                          
                          <li>
                              <a class="post-link" href="/plugins/ignorepausedforuser/">IgnorePausedForUser</a>
                          </li>
                          
                          <li>
                              <a class="post-link" href="/plugins/ublmeshedit/">OctoPrint-UBLMeshEdit</a>
                          </li>
                          
                          <li>
                              <a class="post-link" href="/plugins/SlicerEstimator/">Slicer Estimator</a>
                          </li>
                          
                          <li>
                              <a class="post-link" href="/plugins/TpLinkAutoShutdown/">OctoPrint-Tplinkautoshutdown</a>
                          </li>
                          
                      </ul>
                  </div>
                  <div class="span4 hidden-phone">
                      <a href="http://octoprint.org"><img src="/assets/img/logo-footer.png" alt="Octopus logo" class="pull-right"></a>
                  </div>
              </div>
              <div class="row">
                  <div class="span12 text-center legal">
                      <small>"OctoPrint" is a <a href="http://octoprint.org/trademark-rules/">registered trademark</a></small>
                  </div>
              </div>
          </div>
      </footer>

<script type="text/javascript" src="/assets/js/prettify-a2ae206579112903445f0c0d4b98f31ab901db28e8873dc7c81ce40a06372745.js" integrity="sha256-oq4gZXkRKQNEXwwNS5jzGrkB2yjohz3HyBzkCgY3J0U=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/bootstrap.min-f5651a6e18f88581d9be3cf06328fede9e112943c9ec037b4c2c1dc623d9429b.js" integrity="sha256-9WUabhj4hYHZvjzwYyj+3p4RKUPJ7AN7TCwdxiPZQps=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/lunr.min-a639270160a101546ac6c6373b24d7422b4a37bdb938d8eaa5ec3ebefdd343f8.js" integrity="sha256-pjknAWChAVRqxsY3OyTXQitKN725ONjqpew+vv3TQ/g=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/mustache-9a85a65d19dc9967bca5e7bb155e1f822b42740fd2ee04f3a1fd73da4ce3cad8.js" integrity="sha256-moWmXRncmWe8pee7FV4fgitCdA/S7gTzof1z2kzjytg=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/URI.min-569c0cdd34d9826a0e5b1ab3ead135e14c06281a71de90aa8e2aea35e8c9db75.js" integrity="sha256-VpwM3TTZgmoOWxqz6tE14UwGKBpx3pCqjirqNejJ23U=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/date.format-7f5d1885a0cf226d38cb313b8cd4397e02c8fe8fd1cc2004c2eb949ada1bdaf5.js" integrity="sha256-f10YhaDPIm04yzE7jNQ5fgLI/o/RzCAEwuuUmtob2vU=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/jquery.lunr.search-145b1699bf8e6b3e590f15ea32ffdb5440b017717fc8da8924e09cc9c7715378.js" integrity="sha256-FFsWmb+Oaz5ZDxXqMv/bVECwF3F/yNqJJOCcycdxU3g=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/lightbox.min-40fdcc195c5982250c8901f2c160e15342941a311faf6372c04117c0d9c44bc7.js" integrity="sha256-QP3MGVxZgiUMiQHywWDhU0KUGjEfr2NywEEXwNnES8c=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/site-9cd3c1f2763a9bba048afaa1d65885869520587e0f536ffb0bf93598428371fd.js" integrity="sha256-nNPB8nY6m7oEivqh1liFhpUgWH4PU2/7C/k1mEKDcf0=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/autotrack-2e10f5ef468c4b20088ec964a113acbad1f15d1baf4074a5255fd03c204bf37f.js" integrity="sha256-LhD170aMSyAIjslkoROsutHxXRuvQHSlJV/QPCBL838=" crossorigin="anonymous"></script>
<script type="text/javascript" src="/assets/js/yt-with-consent-93662d2c310d0341065cd518f3d448995e3b7e44c87151bce9449b14846a5b6e.js" integrity="sha256-k2YtLDENA0EGXNUY89RImV47fkTIcVG86USbFIRqW24=" crossorigin="anonymous"></script>

<script>
    var gaBaseProperty = 'UA-62479257';
    var gaProperty = gaBaseProperty + '-2';

    // opt out
    var disableStr = 'ga-disable-' + gaProperty;
    var disableCookie = 'ga-disable-' + gaBaseProperty;
    function gaOptout() {
        document.cookie = disableCookie + '=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/; domain=octoprint.org';
        window[disableStr] = true;
        alert("Google Analytics ist jetzt deaktiviert! / Google Analytics is now deactivated!")
    }

    // tracking code
    if (document.cookie.indexOf(disableCookie + '=true') > -1) {
        window[disableStr] = true;
    } else {
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', gaProperty, 'auto');
        ga('require', 'autotrack');
        ga('set', 'anonymizeIp', true);
        ga('send', 'pageview');
    }
</script>

</body>
</html>
